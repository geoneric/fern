CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT(Ranally)

ENABLE_TESTING()
# Doesn't work: SET(ENV{CTEST_OUTPUT_ON_FAILURE} 1)
# SET(BOOST_TEST_RUNTIME_PARAMETERS "--log_level all")

SET(RANALLY_ORGANISATION_NAME "Kor de Jong Environmental Modelling Software")
SET(RANALLY_COPYRIGHT "Copyright \(C\) 2010-2012 Kor de Jong")
SET(RANALLY_PROJECT_NAME "${CMAKE_PROJECT_NAME}")
SET(RANALLY_HOMEPAGE "http://www.kdjems.com/ranally")
SET(RANALLY_MAJOR_VERSION "0")
SET(RANALLY_MINOR_VERSION "0")
SET(RANALLY_PATCH_VERSION "0")
SET(RANALLY_BUILD_STAGE "wip")
SET(RANALLY_VERSION
    "${RANALLY_MAJOR_VERSION}.${RANALLY_MINOR_VERSION}.${RANALLY_PATCH_VERSION}")
IF(RANALLY_BUILD_STAGE)
    SET(RANALLY_VERSION "${RANALLY_VERSION}-${RANALLY_BUILD_STAGE}")
ENDIF(RANALLY_BUILD_STAGE)

SET(CMAKE_MODULE_PATH
    $ENV{CMAKE_MODULE_PATH}
    ${CMAKE_CURRENT_SOURCE_DIR}
)
INCLUDE(Site)

ADD_CUSTOM_TARGET(tests ALL)
ADD_SUBDIRECTORY(Documents)
ADD_SUBDIRECTORY(Sources)

INCLUDE(InstallRules)
