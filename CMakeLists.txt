CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(Ranally)

SET(RANALLY_MAJOR_VERSION "0")
SET(RANALLY_MINOR_VERSION "0")
SET(RANALLY_PATCH_VERSION "0")
SET(RANALLY_BUILD_STAGE "wip")
SET(RANALLY_VERSION
  "${RANALLY_MAJOR_VERSION}.${RANALLY_MINOR_VERSION}.${RANALLY_PATCH_VERSION}")
IF(RANALLY_BUILD_STAGE)
  SET(RANALLY_VERSION "${RANALLY_VERSION}-${RANALLY_BUILD_STAGE}")
ENDIF(RANALLY_BUILD_STAGE)

SET(RANALLY_COPYRIGHT "Copyright \(C\) 2010-2012 Kor de Jong")

SET(CMAKE_MODULE_PATH $ENV{CMAKE_MODULE_PATH})
INCLUDE(Site)
INCLUDE(UseDevEnv)

INCLUDE(UseBoost)
INCLUDE(UseExpat)
INCLUDE(UseIcu)
INCLUDE(UseLoki)
INCLUDE(UsePython)
INCLUDE(UseXsd)

# ADD_SUBDIRECTORY(Tests/Ranally/Algorithms)
# ADD_SUBDIRECTORY(Tests/Ranally/Operations/Local/Unary)
ADD_SUBDIRECTORY(Sources)

ADD_CUSTOM_TARGET(tests ALL
  WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
  COMMAND testRanallyUtil
  COMMAND testRanallyAlgorithm
  COMMAND testRanallyOperation
  COMMAND testRanallyLanguage
)
